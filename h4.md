#### Alisa Ahokas


# x)

## [A01:2021 – Broken Access Control](https://owasp.org/Top10/A01_2021-Broken_Access_Control/)

Access control eli pääsynhallinta kontrolloi käyttäjien toimia niin, että he eivät voi toimia laajemmin kuin tarkoitettu. Useirna toimiminen, vaikka ei ole kirjautunut edes sisään tai adminina toimininen, vaikka on vaan user. Yleisimpiä virheitä access controlissa on pienimpien oikeuksien periaatteen noudattamatta jätttäminen. URL parametrien  tai API pyyntöjen muokkaaminen johtaen access controlin ohittamiseen. API:in pääseminen käsiksi niin, että voi käyttää POST, PUT ja DELETE. Metadatan manipulointi käyttäen hyväksi JWT tai cookieta yms. CORS:n väärin konfiguroiminen, jolloin API:in pääsy vääriltä tahoilta.

## [A10:2021 – Server-Side Request Forgery (SSRF)](https://owasp.org/Top10/A10_2021-Server-Side_Request_Forgery_%28SSRF%29/)

SSRF puute ilmenee aika websovelluksen hakiessa resurssia ilman user-supplied URL:n validointia. Nykyään loppukäyttäjät joutuvat websovelluksien nykyisen rakenteen takia tällaiseen tilanteeseen, jossa SSRF on mahdollinen ja tapaukset ovat nousussa.

SSRF on estettävissä sovelluksen kehitysvaiheessa eri kerrokissa. Network layer, application layer. Älä deployaa tietoturvaan liittyviä palveluita, kuten OpenID:tä. Frontendissä käyttäjäryhmille network encryption. 


# a) Totally Legit Sertificate

Ladataan OWASP ZAP Download-sivun sopivin JAR on "Cross Platform Package"

KUVA 0

Asennetaan
sudo apt-get install openjdk-17-jre
KUVA1

Luodaan uusi hakemisto komennolla:

mkdir zap

Siirretään zippi tiedosto zap kansioon ja puretaan se
KUVA6

Avataan tiedosto
java -jar <tiedosto>

Aukeaa ja laitetaan enismmäiseen kohtaan valinta. Sitten painetaan start.

Selain setting hae proxy

Tehdään sertifikaatti zapilla ja otetaan se käyttöön.

# b) Kettumaista

Asennetaan firefoxin lisäosa foxyproxy.

# PortSwigger Labs
## c) Insecure direct object references

Inspekti auki ja networks sitten hoveroi ladatun tiedoston yllä niin polku tulee esiin. Laita urliin se ja vaihda 1.txt

Sitten avaat tiedoston ja näet salasanan.
28-31


# Path traversal
## d) File path traversal, simple case
kuva33
kuva 32
## e) File path traversal, traversal sequences blocked with absolute path bypass
KUVA34
## f) File path traversal, traversal sequences stripped non-recursively
KUVA35
# x) Lue/katso ja tiivistä

# Server Side Template Injection (SSTI)
## g) Server-side template injection with information disclosure via user-supplied objects (Tämä on merkitty hieman vaikeammaksi, jätä viimeiseksi jos näyttää hankalalta)


# Server Side Request Forgery (SSRF)
## h) Basic SSRF against the local server


# Cross Site Scripting (XSS)
## i) Reflected XSS into HTML context with nothing encoded
37
## j) Stored XSS into HTML context with nothing encoded
mene comments ja kirjoita sinne <script>alert(1)</script>

täytä loput ruudut ja send.
39

## k) Asenna Webgoat 2023.4. (Uusi versio, jossa on eri tehtäviä kuin vanhemmissa)

Aloitin asentamalla palomuurin komennolla

sudo apt-get install ufw

Asennuksen jälkeen laitetaan palomuuri päälle komennolla:

sudo ufw enable

Java oli asennettu jo aikaisemmin, joten sitä ei enää tässä viaheessa tarvitse asentaa.

Asennetaan seuraavaksi uusin versio Webgoatista [githubista](https://github.com/WebGoat/WebGoat/releases)

wget https://github.com/WebGoat/WebGoat/releases/download/v2023.4/webgoat-2023.4.jar

OWASP ZAP oli aikaisemmassa tehtävässä asennettu pyörimään porttiin 8080, joten määritetään toinen portti Webgoatille samalla, kun käynnistetään se javalla käyttäen komentoa:

java -Dfile.encoding=UTF-8 -Dwebgoat.port=8888 -Dwebwolf.port=9090 -jar webgoat-2023.4.jar

=F@?ozdq4Mt468ip)CwmH4&Nac9d53C"

# Ratkaise WebGoat 2023.4:
## m) (A1) Broken Access Control (WebGoat 2023.4)
### Hijack a session (1)
### Insecure Direct Object References (4)
### Missing Function Level Access Control (3)
### Spoofing an Authentication Cookie (1)
## n) (A7) Identity & Auth Failure (WebGoat 2023.4)
### Authentication Bypasses (1)
### Insecure Login (1)
## o) (A10) Server-side Request Forgery (WebGoat 2023.4)
### Server-Side Request Forgery (2)
## p) Client side (WebGoat 2023.4)
### Bypass front-end restrictions (2)
